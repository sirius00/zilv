(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/home/home"],{"0952":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement,r=(t._self._c,t.ifvoice&&"record"==t.pic?n("b91b"):null),o=t.ifvoice&&"play"==t.pic?n("7518"):null,c=t.ifvoice&&"pause"==t.pic?n("2cfc"):null,a=t.ifvoice&&!t.limited?n("e797"):null,i=t.ifvoice&&t.limited?n("03fa"):null;t._isMounted||(t.e0=function(e){e.stopPropagation(),t.addVoice}),t.$mp.data=Object.assign({},{$root:{m0:r,m1:o,m2:c,m3:a,m4:i}})},c=[]},"0986":function(t,e,n){"use strict";n.r(e);var r=n("379f"),o=n("d811");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("4c0b");var a,i=n("f0c5"),u=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);e["default"]=u.exports},"2f1c":function(t,e,n){"use strict";n.r(e);var r=n("b1eb"),o=n("60cc");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("36ce");var a,i=n("f0c5"),u=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"17c8bc78",null,!1,r["a"],a);e["default"]=u.exports},"36ce":function(t,e,n){"use strict";var r=n("f380"),o=n.n(r);o.a},"379f":function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"3b82":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("26cb"),o=u(n("cac9")),c=u(n("9f56")),a=u(n("a620")),i=u(n("0986"));function u(t){return t&&t.__esModule?t:{default:t}}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){n.e("uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control").then(function(){return resolve(n("2c47"))}.bind(null,n)).catch(n.oe)},h=(o.default.base2,{components:{uniSegmentedControl:d,recommend:c.default,timeCard:a.default,midBox:i.default},data:function(){return{show:!0,items:[{title:"推荐"},{title:"我的时间卡"}],current:0}},computed:{},onLoad:function(t){this.current=t.current},methods:s(s({},(0,r.mapMutations)(["get_days"])),{},{onClickItem:function(t){this.current!==t.currentIndex&&(this.current=t.currentIndex)}})});e.default=h},"4c0b":function(t,e,n){"use strict";var r=n("6dc0"),o=n.n(r);o.a},"60cc":function(t,e,n){"use strict";n.r(e);var r=n("3b82"),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e["default"]=o.a},"69bc":function(t,e,n){},"6c0f":function(t,e,n){},"6d3c":function(t,e,n){"use strict";var r=n("6c0f"),o=n.n(r);o.a},"6dc0":function(t,e,n){},"700d":function(t,e,n){"use strict";(function(t){n("8c7a");r(n("66fd"));var e=r(n("2f1c"));function r(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},"8ab8":function(t,e,n){"use strict";n.r(e);var r=n("a3bb"),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e["default"]=o.a},"9b76":function(t,e,n){"use strict";var r=n("69bc"),o=n.n(r);o.a},"9f56":function(t,e,n){"use strict";n.r(e);var r=n("bb9e"),o=n("b619");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("6d3c");var a,i=n("f0c5"),u=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"5f51be09",null,!1,r["a"],a);e["default"]=u.exports},"9f75":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n("26cb"),o=c(n("cac9"));function c(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function i(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=o.default.base2,h=function(){n.e("components/topTabbar/topTabbar").then(function(){return resolve(n("dcf5"))}.bind(null,n)).catch(n.oe)},p=function(){n.e("components/voiceBar").then(function(){return resolve(n("8fef"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/calendar").then(function(){return resolve(n("3ca8"))}.bind(null,n)).catch(n.oe)},b={components:{topTabbar:h,calendar:m,voiceBar:p},data:function(){return{weekDay:["日","一","二","三","四","五","六"],tabIndex:"tuijian",tabBars:[{name:"推荐",id:"tuijian",path:"./recommend"},{name:"我的时间卡",id:"timecard",path:"./timecard"}],dayslist:[],currentIndex_default:null,recommendList:null}},computed:s({},(0,r.mapState)(["days","userinfo"])),mounted:function(){this.get_recommend(),this.refresh_cal()},methods:{format_date:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=("0"+n).slice(-2),o=t.getDate();return"".concat(e,"-").concat(r,"-").concat(o)},refresh_cal:function(){var e=this;t.$http.post(d+"/task/get/self",{uid:this.userinfo.memberId}).then((function(t){var n,r=t.data.data.day,o=e.format_date(),c=0,i=a(r);try{for(i.s();!(n=i.n()).done;){var u=n.value;if(u.date==o){e.currentIndex_default=Math.floor(c/7);break}c++}}catch(d){i.e(d)}finally{i.f()}var f=7,s=null;s=35==r.length?5:6;for(var l=0;l<s;l++)e.dayslist.push(r.splice(0,f))})).catch((function(t){console.log(t)}))},get_recommend:function(e){var n=this;t.$http.post(d+"/task/wall/load").then((function(t){var e=t.data.data;n.recommendList=e})).catch((function(t){console.log(t)}))},today_recommend:function(e){var n=this,r=e.date;t.$http.post(d+"/task/wall/load",{date:r}).then((function(t){var e=t.data.data;n.recommendList=e})).catch((function(t){console.log(t)}))}}};e.default=b}).call(this,n("543d")["default"])},"9fbc":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{currentPage:{type:Number,default:0}},data:function(){return{currentItem:0,tabbarList:[{id:0,path:"/pages/todayGoal/todayGoal",icon:"/static/img/message_active.png",selectIcon:"/static/img/message_active.png",centerItem:!1},{id:1,path:"/pages/home/home",icon:"/static/img/dubbing.png",selectIcon:"/static/img/dubbing.png",centerItem:!0},{id:2,path:"/pages/profile/profile",icon:"/static/img/profile_active.png",selectIcon:"/static/img/profile_active.png",centerItem:!1}]}},mounted:function(){this.currentItem=this.currentPage,t.hideTabBar()},methods:{changeItem:function(e){var n=this;n.currentItem=e.id,t.switchTab({url:e.path})}}};e.default=n}).call(this,n("543d")["default"])},a3bb:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("cac9")),o=n("26cb");function c(t){return t&&t.__esModule?t:{default:t}}function a(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=i(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,a=!0,u=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,c=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw c}}}}function i(t,e){if(t){if("string"===typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?u(t,e):void 0}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=("0"+n).slice(-2),o=t.getDate();return"".concat(e,"-").concat(r,"-").concat(o)}var h=r.default.base2,p=function(){n.e("components/topTabbar/topTabbar").then(function(){return resolve(n("dcf5"))}.bind(null,n)).catch(n.oe)},m=function(){n.e("components/voiceBar").then(function(){return resolve(n("8fef"))}.bind(null,n)).catch(n.oe)},b=function(){n.e("components/calendar").then(function(){return resolve(n("3ca8"))}.bind(null,n)).catch(n.oe)},v=function(){n.e("components/todo_card").then(function(){return resolve(n("0519"))}.bind(null,n)).catch(n.oe)},g=function(){Promise.all([n.e("common/vendor"),n.e("components/buttons/addNote")]).then(function(){return resolve(n("5956"))}.bind(null,n)).catch(n.oe)},y=function(){Promise.all([n.e("common/vendor"),n.e("components/buttons/addVoice")]).then(function(){return resolve(n("0829"))}.bind(null,n)).catch(n.oe)},O=function(){Promise.all([n.e("common/vendor"),n.e("components/add/addnote")]).then(function(){return resolve(n("77d8"))}.bind(null,n)).catch(n.oe)},_=t.getRecorderManager(),j=t.createInnerAudioContext(),P={components:{topTabbar:p,calendar:b,voiceBar:m,todoCard:v,addNote:g,addVoice:y,addnote:O},data:function(){return{weekDay:["日","一","二","三","四","五","六"],tabIndex:"timecard",tabBars:[{name:"推荐",id:"tuijian",path:"./recommend"},{name:"我的时间卡",id:"timecard",path:"./timecard"}],dayslist:[],currentIndex_default:null,text_value:"",taskList:[],pic:"record",limited:!1,voicePath:"",show:!1}},computed:s({},(0,o.mapState)(["addnote","addvoice","ifvoice","userinfo","tishi"])),mounted:function(){this.get_taskList(),this.refresh_cal()},methods:s(s({},(0,o.mapMutations)(["addNote","addVoice","hidentishi"])),{},{hidenvoice:function(){this.voicePath="",this.pic="record",this.addVoice(),0==this.tishi&&(t.showToast({title:"长按录音,长按删除",icon:"none"}),this.hidentishi())},upDateTaskList:function(){this.get_taskList(),this.refresh_cal(),console.log("成功刷新")},refresh_cal:function(){var e=this;t.$http.post(h+"/task/get/self",{uid:this.userinfo.memberId}).then((function(t){var n,r=t.data.data,o=r.day,c=d(),i=0,u=a(o);try{for(u.s();!(n=u.n()).done;){var f=n.value;if(f.date==c){e.currentIndex_default=Math.floor(i/7);break}i++}}catch(p){u.e(p)}finally{u.f()}var s=7,l=null;l=35==o.length?5:6;for(var h=0;h<l;h++)e.dayslist.push(o.splice(0,s))})).catch((function(t){console.log(t)}))},get_taskList:function(){var e=this;d();t.$http.post(h+"/task/get",{uid:this.userinfo.memberId}).then((function(t){e.taskList=t.data.data})).catch((function(t){console.log(t)}))},today_task:function(e){var n=this;this.taskList=[];var r=e.date;t.$http.post(h+"/task/get",{uid:this.userinfo.memberId,dates:r}).then((function(e){n.taskList=e.data.data,1==e.data.data.code&&t.showToast({title:"请求过于频繁",icon:"loading"})})).catch((function(t){console.log(t)}))},limit:function(){this.limited=!this.limited},startRecord:function(){var t=this;_.onStop((function(e){t.voicePath=e.tempFilePath}));var e={duration:this.duration,sampleRate:16e3,numberOfChannels:1,encodeBitRate:96e3,format:"mp3",frameSize:10};_.start(e),this.show=!0},endRecord:function(){var t=this;this.pic="play",_.onStop((function(e){t.voicePath=e.tempFilePath})),_.stop(),this.show=!1,console.log(this.voicePath)},playVoice:function(){var t=this;j.src=this.voicePath,j.play(),this.show=!0,this.pic="pause",j.onEnded((function(){t.pic="play",t.show=!1,j.stop()}))},delVoice:function(){this.voicePath="",this.pic="record",this.show=!1,j.stop()},addVoice_task:function(){var e=this;t.uploadFile({url:h+"/task/add/mp3",filePath:this.voicePath,name:"file",formData:{uid:this.userinfo.memberId,content:""},header:{"content-type":"multipart/form-data"},success:function(n){e.get_taskList(),e.addVoice(),e.voicePath="",e.pic="record",t.$emit("add_voice_task")},fail:function(t){console.log(t)}})}})};e.default=P}).call(this,n("543d")["default"])},a620:function(t,e,n){"use strict";n.r(e);var r=n("0952"),o=n("8ab8");for(var c in o)"default"!==c&&function(t){n.d(e,t,(function(){return o[t]}))}(c);n("9b76");var a,i=n("f0c5"),u=Object(i["a"])(o["default"],r["b"],r["c"],!1,null,"5b6c8ca2",null,!1,r["a"],a);e["default"]=u.exports},b1eb:function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}));var r={uniSegmentedControl:function(){return n.e("uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control").then(n.bind(null,"2c47"))}},o=function(){var t=this,e=t.$createElement,n=(t._self._c,t.items.map((function(t){return t.title})));t.$mp.data=Object.assign({},{$root:{g0:n}})},c=[]},b619:function(t,e,n){"use strict";n.r(e);var r=n("9f75"),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e["default"]=o.a},bb9e:function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return r}));var o=function(){var t=this,e=t.$createElement;t._self._c},c=[]},d811:function(t,e,n){"use strict";n.r(e);var r=n("9fbc"),o=n.n(r);for(var c in r)"default"!==c&&function(t){n.d(e,t,(function(){return r[t]}))}(c);e["default"]=o.a},f380:function(t,e,n){}},[["700d","common/runtime","common/vendor"]]]);